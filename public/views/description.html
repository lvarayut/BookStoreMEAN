{% extends 'layout.html' %}

{% block content %}
    {% include "./searchbar.html" %}
    <div ng-init="isItemInCart()"></div>
    <!-- After Search bar -->
    <div class="row bs-detail-container" style="margin-top: 20px;">
        <div class="col-xs-12 col-sm-4 col-md-4">
            <!-- Small picture -->
            <a data-toggle="modal" data-target="#myModal"><img alt="Click to view the lightbox"  class="img-responsive" ng-src="/api/getImage/{{ product._id.toString() }}"></a>
        </button>
        <!-- Big picture Modal -->
        <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    </div>
                    <div class="modal-body" style="text-align:center;">
                        <img ng-src="/api/getImage/{{ product._id.toString() }}" style="height:500px;">
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-xs-12 col-sm-8 col-md-8">
        <div id="productId" data-productId="{{ product._id.toString() }}"></div>
        <h3>{{ product.name }}</h3>
        <small>{{ product.author }}</small>
        <div><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i><i class="fa fa-star"></i></div>
        <detail>    
            {{ product.description }}
        </detail>
        <hr>
        <div class="col-xs-12 col-sm-6 col-md-6 bs-detail-char-right">
            <h4>Paper back</h4>
                <!--<h4>Normal price: <del><i class="glyphicon glyphicon-euro"></i> 50</del></h4>
                <h4 style="color: red">Special price: <i class="glyphicon glyphicon-euro"></i> 30 (save 60%)</h4>-->
                <h4>Price: <i class="glyphicon glyphicon-euro"></i> {{ product.price }}</h4>
                <button ng-if="!isItemAdded" class="btn btn-success" ng-click="addToCart()">Add to cart</button>
                <button ng-if="isItemAdded" class="btn btn-danger" ng-click="removeFromCart()">Remove item</button>
            </div>
            <div class="col-xs-12 col-sm-6 col-md-6">
                <p>Free shipping for exclusive membership <a href="#">details</a></p>
                <p>Free gift wrapping <a href="#">details</a></p>
            </div>
        </div>
    </div>

    <hr>
    {% include 'comment.html' %}
{% endblock %}
